!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):n.useAsyncQueue=e(n.react)}(this,function(n){return function(e){var t=e.concurrency;void 0===t&&(t=8);var u=e.done;void 0===u&&(u=function(){});var r=e.inflight;void 0===r&&(r=function(){}),t<1&&(t=Infinity);var c=n.useState(0),i=c[0],o=c[1],f=n.useState(0),s=f[0],a=f[1],d=n.useState(0),p=d[0],h=d[1],l=n.useRef([]),v=n.useRef([]);return n.useEffect(function(){for(var n=function(){var n=v.current.shift();a(function(n){return n-1}),l.current.push(n),o(function(n){return n+1}),r(n);var e=n.task();e.then(function(){l.current.pop(n),o(function(n){return n-1}),h(function(n){return n+1}),u(Object.assign({},n,{result:e}))}).catch(function(){l.current.pop(n),o(function(n){return n-1}),h(function(n){return n+1}),u(Object.assign({},n,{result:e}))})};l.current.length<t&&v.current.length>0;)n()},[t,u,r,s,i]),{add:n.useCallback(function(n){v.current.push(n),a(function(n){return n+1})},[v]),numInFlight:i,numPending:s,numDone:p}}});
//# sourceMappingURL=use-async-queue.umd.js.map
