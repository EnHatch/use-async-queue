!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):n.useAsyncQueue=e(n.react)}(this,function(n){return function(e){var t=e.concurrency;void 0===t&&(t=8);var u=e.done;void 0===u&&(u=function(){});var r=e.inflight;void 0===r&&(r=function(){}),t<1&&(t=Infinity);var c=n.useState(0),o=c[0],i=c[1],f=n.useState(0),a=f[0],s=f[1],d=n.useState(0),p=d[0],l=d[1],v=n.useRef([]),h=n.useRef([]);return n.useEffect(function(){for(var n=function(){var n=h.current.pop();s(function(n){return n-1}),v.current.push(n),i(function(n){return n+1}),r(n);var e=n.task();e.then(function(){v.current.pop(n),i(function(n){return n-1}),l(function(n){return n+1}),u(Object.assign({},n,{result:e}))}).catch(function(){v.current.pop(n),i(function(n){return n-1}),l(function(n){return n+1}),u(Object.assign({},n,{result:e}))})};v.current.length<t&&h.current.length>0;)n()},[t,u,r,a,o]),{add:n.useCallback(function(n){h.current.push(n),s(function(n){return n+1})},[h]),numInFlight:o,numPending:a,numDone:p}}});
//# sourceMappingURL=use-async-queue.umd.js.map
